Quand bien même que la génération de nombres aléatoires ai déjà été abordée à la \autoref{sec:statsTools}, il serait incorrect de s'simaginer que les capacités statistiques de R s'arrête là. R est un excellent langage pour faire du calcul stochastique. Qui dit calcul stochastique dit aussi estimation par simulation d'un grand nombre d'observations pour estimer le comportement d'un phénomène difficilement quantifiable de manière déterministe. \\

La première fonction à connaître lorsque nous abordons une analyse de ce genre est la fonction \texttt{sample}. Cette dernière sera utile dans les cas où nous cherchons à faire une pige aléatoire de taille quelconque (\texttt{size}) sur un ensemble de valeurs fourni par un vecteur. Il sera possible de préciser si nous voulons faire une pige avec ou sans remise avec l'argument \texttt{replace} ainsi la probabilité que chaque valeur survienne grâce à \texttt{prob}. Un aspect fort intéressant de cette fonction et sa capacité de faire des piges sur des valeurs textuelles. Le \autoref{src:sample} fait une revue de l'utilisation de la fonction \texttt{sample}. Lors deux deuxième appel de la fonction, nous remarquons la génértion de valeurs beaucoup plus élevées par rapport au premier appel. Toutefois, la seule différence a été de modifier la valeur de l'argument \texttt{prob} pour y assigner le poids relatif de l'altitude sur l'ensemble des altitudes favorisant ainsi les valeurs plus extrêmes. Le troisième appel expose, quant à lui, la capacité de travailler avec un vecteur de valeurs textuelles. \\

\begin{lstlisting}[caption = Pige aléatoire sur support vectoriel,label=src:sample]
> sample(airportsCanada$altitude,size = 10, replace = TRUE)
 [1] 1211   24 1215 2351 1873  882  256 2314 2968  728
> probs = airportsCanada$altitude/sum(airportsCanada$altitude)
> sample(airportsCanada$altitude,size = 10, replace = TRUE,prob = probs)
 [1] 2525 2264 2680 1220 1087 2277 4296 1536 1712 2000
> sample(unique(as.character(paste(airportsCanada$name))),size = 10,replace = FALSE)
 [1] "Fort Severn Airport"                        
 [2] "CFB Trenton"                                
 [3] "Waterville / Kings County Municipal Airport"
 [4] "Salluit Airport"                            
 [5] "Forestville Airport"                        
 [6] "Taloyoak Airport"                           
 [7] "Sandspit Airport"                           
 [8] "Mary's Harbour Airport"                     
 [9] "Pukatawagan Airport"                        
[10] "Deer Lake Airport"
\end{lstlisting}

En inspectant le \autoref{src:CaseStudyDevQ6}, nous constatons la structure fonctionnelle et imbriquée du processus entrepris. Il sera fortement conseillé de procéder ainsi pour différentes raisons:

\begin{itemize}
	\item Augmenter la clareté du processus de simulation
	\item Faciliter le débogage lors du développement
	\item Possibilité de facilement ajouter et retirer des blocs au casse-tête de simulation
	\item Identification simplifiée des parties limitantes et coûteuses en temps de calcul pour des fins d'optimisation
	\item Permettre la production d'une nouvelle itération par l'appel d'une fonction mère possédant idéalement aucun argument
\end{itemize}

Ce ne sera qu'en présence de cette structure que la fonction \texttt{replicate} prendra tout son sens. À l'aide de cette fonction, nous pourrons commodément contrôler le nombre de répliques effecutées. Dans le \autoref{src:replicate}, nous avons justement pris cette fonctionnalité pour reproduire à 6 reprises la génération de nombres aléatoires suivant une loi $Norm(\mu := 3, \sigma := 4)$.

\begin{lstlisting}[caption = Replication d'une analyse stochastique,label=src:replicate]
fsimul <- function() qnorm(runif(100),3,4)
results <- replicate(6,fsimul())
g <- rep(c("a", "b","c","d","e","f"), each = 100)
#install.packages("lattice")
library(lattice)
histogram(~ as.vector(results) | g,xlab = "Results",ylab = "Frequency") 
\end{lstlisting}

\addPicture{1}{0.5}{replicate}{Comparaison des résultats d'une analyse stochastique à 6 réplicats}{replicate}

\begin{moreInfo}{Une "Poisson" dans une pisciculture...}
	La distribution Poisson sera souvent à la base des processus stochastiques en raison de ses propriétés particulières. Nous parlerons souvent du fait que cette loi ne possède pas de mémoire ce qui implique que le nombre de succès observés sur différents intervalles seront indépendants. Nous pouvons aussi mentionné que la somme des variables aléatoires suivant des lois Poisson indépendantes de paramètres $\lambda_1$ et $\lambda_2$ suivra à son tour une loi de Poisson de paramètre $\lambda_1 + \lambda_2$. \\
	\url{https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-262-discrete-stochastic-processes-spring-2011/course-notes/MIT6_262S11_chap02.pdf} \\
	\url{https://fr.wikipedia.org/wiki/Loi_de_Poisson}
\end{moreInfo}